(this["webpackJsonpturn-and-learn"]=this["webpackJsonpturn-and-learn"]||[]).push([[0],{11:function(e,t,n){e.exports={inputAuthContainer:"Auth_inputAuthContainer__34nCX",inputIsFocused:"Auth_inputIsFocused__2josz",inputAuth:"Auth_inputAuth__2RdKA",darkTheme:"Auth_darkTheme__16R4i"}},12:function(e){e.exports=JSON.parse('{"a":"http://localhost:5000/api","b":"token"}')},14:function(e,t,n){e.exports={passIcon:"PassInput_passIcon__14J1j",toggleViewPassBtn:"PassInput_toggleViewPassBtn__2OKMp",openPass:"PassInput_openPass__3Jj4R",hidePass:"PassInput_hidePass__JcxnR"}},15:function(e,t,n){e.exports={regContainer:"Auth_regContainer__1GE93",regBackground:"Auth_regBackground__1dKZT",regFormWrapper:"Auth_regFormWrapper__3UWN6",regDecorativeImg:"Auth_regDecorativeImg__2SzHW",authDecorativeImg:"Auth_authDecorativeImg__2on3X"}},23:function(e,t,n){e.exports={authForm:"Auth_authForm__3nfCK"}},24:function(e,t,n){e.exports={authButton:"Auth_authButton__1RCw0"}},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"logIn",(function(){return A})),n.d(r,"logOut",(function(){return b})),n.d(r,"changeCardsDisplayMode",(function(){return j})),n.d(r,"changeTheme",(function(){return g})),n.d(r,"pullAuthToken",(function(){return L})),n.d(r,"openModalWindow",(function(){return D})),n.d(r,"closeModalWindow",(function(){return m}));var a={};n.r(a),n.d(a,"fetchUserData",(function(){return T})),n.d(a,"changeAvatar",(function(){return v})),n.d(a,"fetchUserDataAndLogIn",(function(){return R}));var c={};n.r(c),n.d(c,"selectCard",(function(){return H})),n.d(c,"cancelSelectCard",(function(){return x})),n.d(c,"cancelSelectAllCards",(function(){return w}));var o={};n.r(o),n.d(o,"fetchFolders",(function(){return W})),n.d(o,"createFolder",(function(){return G})),n.d(o,"editFolder",(function(){return U})),n.d(o,"deleteFolder",(function(){return B}));var u={};n.r(u),n.d(u,"fetchCardsPaginationMode",(function(){return z})),n.d(u,"fetchCardsScrollMode",(function(){return J})),n.d(u,"createCard",(function(){return V})),n.d(u,"editCard",(function(){return X})),n.d(u,"deleteCard",(function(){return Y}));var s,i=n(0),d=n.n(i),l=n(16),_=n.n(l),p=n(10),O=n(8),E=n(22),h=n(21),f=n(12);!function(e){e.LOG_IN="LOG_IN",e.LOG_OUT="LOG_OUT",e.CHANGE_CARDS_DISPLAY_MODE="CHANGE_CARDS_DISPLAY_MODE",e.CHANGE_THEME="CHANGE_THEME",e.PULL_AUTH_TOKEN="PULL_AUTH_TOKEN",e.OPEN_MODAL_WINDOW="OPEN_MODAL_WINDOW",e.CLOSE_MODAL_WINDOW="CLOSE_MODAL_WINDOW"}(s||(s={}));var C,A=function(){return{type:s.LOG_IN}},b=function(){return{type:s.LOG_OUT}},j=function(e){return{type:s.CHANGE_CARDS_DISPLAY_MODE,payload:e}},g=function(e){return{type:s.CHANGE_THEME,payload:e}},L=function(e){return localStorage.setItem(f.b,e),{type:s.PULL_AUTH_TOKEN,payload:e}},D=function(e){return{type:s.OPEN_MODAL_WINDOW,payload:e}},m=function(){return{type:s.CLOSE_MODAL_WINDOW}};!function(e){e.FETCH_USER_DATA="FETCH_USER_DATA",e.CHANGE_AVATAR="CHANGE_AVATAR"}(C||(C={}));var y,T=function(e){return{type:C.FETCH_USER_DATA,payload:e}},v=function(e){return{type:C.CHANGE_AVATAR,payload:e}},R=function(e){var t=e.avatarUrl,n=e.authToken,r=e.theme,a=e.login;return function(e){e(T({avatarUrl:t,login:a})),e(g(r)),e(L(n)),e(A())}},I=n(2),S={login:"",avatarUrl:""},N={isAuthorized:!1,displayMode:"scroll",modalIsOpen:!1,componentInModal:null,theme:"light",authToken:""};!function(e){e.SELECT_CARD="SELECT_CARD",e.CANCEL_SELECT_CARD="CANCEL_SELECT_CARD",e.CANCEL_SELECT_ALL_CARDS="CANCEL_SELECT_ALL_CARDS"}(y||(y={}));var F,H=function(e){return{type:y.SELECT_CARD,payload:e}},x=function(e){return{type:y.CANCEL_SELECT_CARD,payload:e}},w=function(){return{type:y.CANCEL_SELECT_ALL_CARDS}},M=n(6),P=[];!function(e){e.FETCH_FOLDERS="FETCH_FOLDERS",e.CREATE_FOLDER="CREATE_FOLDER",e.EDIT_FOLDER="EDIT_FOLDER",e.DELETE_FOLDER="DELETE_FOLDER"}(F||(F={}));var k,W=function(e){return{type:F.FETCH_FOLDERS,payload:e}},G=function(e){return{type:F.CREATE_FOLDER,payload:e}},U=function(e){return{type:F.EDIT_FOLDER,payload:e}},B=function(e){return{type:F.DELETE_FOLDER,payload:e}},K=[];!function(e){e.FETCH_CARDS_PAGINATION_MODE="FETCH_CARDS_PAGINATION_MODE",e.FETCH_CARDS_SCROLL_MODE="FETCH_CARDS_SCROLL_MODE",e.CREATE_CARD="CREATE_CARD",e.EDIT_CARD="EDIT_CARD",e.DELETE_CARD="DELETE_CARD"}(k||(k={}));var z=function(e){return{type:k.FETCH_CARDS_PAGINATION_MODE,payload:e}},J=function(e){return{type:k.FETCH_CARDS_SCROLL_MODE,payload:e}},V=function(e){return{type:k.CREATE_CARD,payload:e}},X=function(e){return{type:k.EDIT_CARD,payload:e}},Y=function(e){var t=e.id,n=e.newCard;return{type:k.DELETE_CARD,payload:{id:t,newCard:n}}},Z=[],Q={userActions:a,cardsListActions:u,foldersListActions:o,selectedCardsIdListActions:c,systemActions:r},q=Object(O.combineReducers)({userState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.FETCH_USER_DATA:return Object(I.a)(Object(I.a)({},e),t.payload);case C.CHANGE_AVATAR:return Object(I.a)(Object(I.a)({},e),{},{avatarUrl:t.payload});default:return e}},cardsListState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k.FETCH_CARDS_PAGINATION_MODE:return t.payload;case k.FETCH_CARDS_SCROLL_MODE:return[].concat(Object(M.a)(e),Object(M.a)(t.payload));case k.CREATE_CARD:return[t.payload].concat(Object(M.a)(e));case k.EDIT_CARD:return e.map((function(e){return e.id===t.payload.id?t.payload:e})).slice(0,-1);case k.DELETE_CARD:var n=e.filter((function(e){return e.id!==t.payload.id}));return t.payload.newCard?[].concat(Object(M.a)(n),[t.payload.newCard]):n;default:return e}},selectedCardsIdListState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y.SELECT_CARD:return[].concat(Object(M.a)(e),[t.payload]);case y.CANCEL_SELECT_CARD:return e.filter((function(e){return e!==t.payload}));case y.CANCEL_SELECT_ALL_CARDS:return[];default:return e}},foldersListState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F.FETCH_FOLDERS:return t.payload;case F.CREATE_FOLDER:return[].concat(Object(M.a)(e),[t.payload]);case F.EDIT_FOLDER:return e.map((function(e){return e.id===t.payload.id?t.payload:e}));case F.DELETE_FOLDER:return e.filter((function(e){return e.id!==t.payload}));default:return e}},systemState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.LOG_IN:return Object(I.a)(Object(I.a)({},e),{},{isAuthorized:!0});case s.LOG_OUT:return Object(I.a)(Object(I.a)({},e),{},{isAuthorized:!1});case s.CHANGE_CARDS_DISPLAY_MODE:return Object(I.a)(Object(I.a)({},e),{},{displayMode:t.payload});case s.CHANGE_THEME:return t.payload===e.theme?e:Object(I.a)(Object(I.a)({},e),{},{theme:t.payload});case s.PULL_AUTH_TOKEN:return Object(I.a)(Object(I.a)({},e),{},{authToken:t.payload});case s.OPEN_MODAL_WINDOW:return Object(I.a)(Object(I.a)({},e),{},{modalIsOpen:!0,componentInModal:t.payload});case s.CLOSE_MODAL_WINDOW:return Object(I.a)(Object(I.a)({},e),{},{modalIsOpen:!1,componentInModal:null});default:return e}}}),$=Object(O.createStore)(q,Object(h.composeWithDevTools)(Object(O.applyMiddleware)(E.a))),ee=n(4),te=n.n(ee),ne=n(5),re=n(3),ae=n(9),ce=function(){var e=Object(ne.a)(te.a.mark((function e(t,n){var r,a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,n);case 2:return r=e.sent,e.next=5,r.json();case 5:if(a=e.sent,r.ok){e.next=9;break}throw a.error&&console.log(a.error),new Error(a.message);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),oe=ce,ue=function(e){return e.reduce((function(e,t){var n=e;return"object"===typeof t?(Object.entries(t).forEach((function(e){var t=Object(re.a)(e,2),r=t[0];t[1]&&(n="".concat(n," ").concat(r))})),n):n="".concat(n," ").concat(t)}),"")},se=n(11),ie=n.n(se),de=n(1),le=function(e){var t=e.changeHandler,n=e.placeholder,r=e.value,a=e.className,c=e.type,o=e.children,u=Object(i.useState)(!1),s=Object(re.a)(u,2),d=s[0],l=s[1],_=Object(i.useCallback)((function(){return l(!0)}),[l]),p=Object(i.useCallback)((function(){return l(!1)}),[l]),O=Object(i.useMemo)((function(){return ue([ie.a.inputAuthContainer,a||""])}),[ie.a,a,ue]),E=Object(i.useMemo)((function(){return ue([ie.a.inputAuth])}),[ie.a,ue]);return Object(de.jsxs)("label",{className:ue([O,Object(ae.a)({},ie.a.inputIsFocused,d)]),children:[Object(de.jsx)("input",{placeholder:n,value:r,className:E,onChange:t,onFocus:_,onBlur:p,type:c}),o]})},_e=Object(i.memo)(le),pe={user:"userActions",cardsList:"cardsListActions",foldersList:"foldersListActions",selectedCardsIdList:"selectedCardsIdListActions",system:"systemActions"},Oe=function(e){var t=Object(p.b)(),n=pe[e];return Object(O.bindActionCreators)(Q[n],t)},Ee=function(e,t){var n=t.setError,r=t.setIsLoading,a=Boolean(r),c=a?[void 0,r]:Object(i.useState)(!1),o=Object(re.a)(c,2),u=o[0],s=o[1],d=function(){var t=Object(ne.a)(te.a.mark((function t(){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,s(!0),t.next=6,e();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),t.t0.message&&n&&n(t.t0.message);case 11:return t.prev=11,s(!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[2,8,11,14]])})));return function(){return t.apply(this,arguments)}}();return a?[d]:[d,Boolean(u)]},he=p.c,fe=n(23),Ce=n.n(fe),Ae=function(e){var t=e.onSubmit,n=e.setError,r=e.setIsLoading,a=e.children,c=Object(i.useCallback)(Ee,[t,n,r])(t,{setError:n,setIsLoading:r}),o=Object(re.a)(c,1)[0],u=Object(i.useCallback)((function(e){e.preventDefault(),o()}),[o]);return Object(de.jsx)("form",{className:Ce.a.authForm,onSubmit:u,children:a})},be=Object(i.memo)(Ae),je=n(24),ge=n.n(je),Le=function(e){var t=e.className,n=e.isLoading,r=e.isDisabled,a=e.children;return Object(de.jsx)("button",{type:"submit",disabled:r,className:ue([ge.a.authButton,t||""]),children:n?"LOADING":a})};Le.defaultProps={className:void 0};var De=Le,me=n(14),ye=n.n(me),Te=function(e){var t=e.value,n=e.placeholder,r=e.type,a=e.changeHandler,c=e.clickHandler;return Object(de.jsx)(_e,{className:ye.a.passIcon,placeholder:n,value:t,type:r,changeHandler:a,children:Object(de.jsx)("button",{className:ue([ye.a.toggleViewPassBtn,"password"===r?ye.a.hidePass:ye.a.openPass]),type:"button","aria-label":"See password",onClick:c})})},ve=function(e){var t=e.changeHandler,n=e.placeholder,r=e.value,a=Object(i.useState)("password"),c=Object(re.a)(a,2),o=c[0],u=c[1],s=Object(i.useCallback)((function(){return u((function(e){return"text"===e?"password":"text"}))}),[u]);return Object(de.jsx)(Te,{placeholder:n,value:r,type:o,changeHandler:t,clickHandler:s})},Re=Object(i.memo)(ve),Ie=n(7),Se=n.n(Ie),Ne=function(e){var t=e.onSubmit,n=e.setError,r=e.setIsLoading,a=e.login,c=e.changeLoginHandler,o=e.password,u=e.changePasswordHandler,s=e.confirmPassword,i=e.changeConfirmPasswordHandler,d=e.error,l=e.submitIsDisabled,_=e.isLoading;return Object(de.jsx)("div",{className:Se.a.regFormWrapper,children:Object(de.jsxs)(be,{onSubmit:t,setError:n,setIsLoading:r,children:[Object(de.jsx)("p",{children:"Hey there,"}),Object(de.jsx)("h1",{children:"Create an Account"}),Object(de.jsx)(_e,{className:ue([Se.a.loginInputIcon,Se.a.loginInput]),placeholder:"Login",value:a,changeHandler:c,type:"text"}),Object(de.jsx)(Re,{placeholder:"Password",value:o,changeHandler:u}),Object(de.jsx)(Re,{placeholder:"Re-enter password",value:s,changeHandler:i}),d&&Object(de.jsx)("p",{className:Se.a.error,children:d}),Object(de.jsx)(De,{className:ue([Se.a.authButton,Object(ae.a)({},Se.a.authButtonWithFormError,Boolean(d))]),isLoading:_,isDisabled:l,children:"Register"}),Object(de.jsxs)("p",{className:Se.a.centered,children:["Already have an account? ",Object(de.jsx)("a",{className:Se.a.link,href:"/",children:"Login"})]})]})})},Fe={logIn:function(e){return Object(ne.a)(te.a.mark((function t(){var n,r,a;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.login,r=e.password,"auth/authorization",a={method:"POST",body:JSON.stringify({login:n,password:r}),headers:{"Content-Type":"application/json"}},t.abrupt("return",oe("".concat(f.a,"/").concat("auth/authorization"),a));case 4:case"end":return t.stop()}}),t)})))()},register:function(e){return Object(ne.a)(te.a.mark((function t(){var n,r,a;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.login,r=e.password,"auth/registration",a={method:"POST",body:JSON.stringify({login:n,password:r}),headers:{"Content-Type":"application/json"}},t.abrupt("return",oe("".concat(f.a,"/").concat("auth/registration"),a));case 4:case"end":return t.stop()}}),t)})))()}},He=function(){var e=Object(i.useState)(""),t=Object(re.a)(e,2),n=t[0],r=t[1],a=Object(i.useState)(""),c=Object(re.a)(a,2),o=c[0],u=c[1],s=Object(i.useState)(""),d=Object(re.a)(s,2),l=d[0],_=d[1],p=Object(i.useState)(""),O=Object(re.a)(p,2),E=O[0],h=O[1],f=Object(i.useState)(!1),C=Object(re.a)(f,2),A=C[0],b=C[1],j=Oe("user").fetchUserDataAndLogIn,g=Object(i.useMemo)((function(){return n.length<3||n.length>11||o.length<8||l!==o}),[n,o,l]),L=Object(i.useCallback)(Object(ne.a)(te.a.mark((function e(){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Fe.register({login:n,password:o});case 4:t=e.sent,j(t);case 6:case"end":return e.stop()}}),e)}))),[Fe,g]),D=Object(i.useCallback)((function(e){return r(e.target.value)}),[]),m=Object(i.useCallback)((function(e){return u(e.target.value)}),[]),y=Object(i.useCallback)((function(e){return _(e.target.value)}),[]);return Object(de.jsx)(Ne,{onSubmit:L,submitIsDisabled:g,isLoading:A,error:E,login:n,password:o,confirmPassword:l,changeLoginHandler:D,changePasswordHandler:m,changeConfirmPasswordHandler:y,setError:h,setIsLoading:b})},xe=n(15),we=n.n(xe),Me=function(){return Object(de.jsx)("div",{className:we.a.regBackground,children:Object(de.jsxs)("div",{className:we.a.regContainer,children:[Object(de.jsx)("div",{className:we.a.regDecorativeImg}),Object(de.jsx)("div",{className:we.a.regFormWrapper,children:Object(de.jsx)(He,{})})]})})},Pe=function(){var e=he((function(e){return e.systemState})).theme;return Object(i.useEffect)((function(){document.body.id=e}),[e]),Object(de.jsx)(Me,{})};n(37);_.a.render(Object(de.jsx)(d.a.StrictMode,{children:Object(de.jsx)(p.a,{store:$,children:Object(de.jsx)(Pe,{})})}),document.getElementById("root"))},7:function(e,t,n){e.exports={loginInput:"RegForm_loginInput__23sSC",loginInputIcon:"RegForm_loginInputIcon__M4ZQB",regFormWrapper:"RegForm_regFormWrapper__1Lw1H",centered:"RegForm_centered__28Cz9",error:"RegForm_error__26bXc",authButton:"RegForm_authButton__3X6na",authButtonWithFormError:"RegForm_authButtonWithFormError__3KiKG",link:"RegForm_link__2_4gG"}}},[[38,1,2]]]);
//# sourceMappingURL=main.5e94b6d0.chunk.js.map